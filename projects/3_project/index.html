<!DOCTYPE html> <html lang="en"> <head> <meta name="google-site-verification" content="XGpY7kLsPO8XuKvrJZpPOei3vNAs2zJByAuqqBe6JxE"/> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Docker Windows Terminal | Masoud Rahimi</title> <meta name="author" content="Masoud Rahimi"/> <meta name="description" content="Setup Docker with Windows Terminal and Oh My ZSH"/> <meta name="keywords" content="masoud rahimi, phd student, electrical engineering, embedded system engineer, concordia"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="shortcut icon" href="/assets/img/favicon.png"/> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://masoudrahimi.com/projects/3_project/"> <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> <script src="/assets/js/jquery.smoothState.js"></script> <script src="/assets/js/page_transition.js"></script> <script src="https://www.google.com/recaptcha/api.js"></script> </head> <body class="fixed-top-nav "> <div class="m-scene" id="main"> <div class="scene_element scene_element--fadein"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="https://masoudrahimi.com/"><span class="font-weight-bold">Masoud</span> Rahimi</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">Home</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Vitae</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching</a> </li> <li class="nav-item "> <a class="nav-link" href="/contact/">Contact</a> </li> </ul> </div> </div> </nav> </header> <div id="particles-js"></div> <div class="container mt-5"> <div id="padding"> <div class="post"> <header class="post-header"> <h1 class="post-title">Docker Windows Terminal</h1> <p class="post-description">Setup Docker with Windows Terminal and Oh My ZSH</p> </header> <article> <p>As you might know, playing with Docker in Windows is quite interesting as it allows you to play with both Linux and Windows containers. For newcomers to Docker, playing with the Docker command line may become frustrating because of using Windows Command Prompt or PowerShell, as both do not have a user-friendly terminal and don’t support autocompletion of Docker commands. I’m giving a brief tutorial on setting up Docker to use the new Windows terminal and your favorite Linux distribution to create a nice terminal environment for playing with Docker Desktop. I also added the Zsh shell to make it more functional and handy.</p> <h2 id="prerequisites">Prerequisites</h2> <ol> <li>Windows 10 with the latest build 2004.</li> <li>Install WSL2 and a Linux Distribution (I’ve used Ubuntu 20.04 LTS). You can follow the <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10" target="_blank" rel="noopener noreferrer">official docs</a> for installation.<br> Don’t forget to execute <code class="language-plaintext highlighter-rouge">wsl --set-version &lt;distribution name&gt; 2</code> to set WSL 2 for your Linux distribution.</li> <li>Install Windows Terminal (Not the preview version) from <a href="https://www.microsoft.com/en-us/p/windows-terminal/9n0dx20hk701?activetab=pivot:overviewtab" target="_blank" rel="noopener noreferrer">Microsoft Store</a>.</li> </ol> <h2 id="installation">Installation</h2> <ol> <li>Install Powerline font for Windows along with Cascadia Code monospaced font to support Unicode symbols of Oh my ZSH. <ul> <li>Grab the Cascadia Code font from its Github <a href="https://github.com/microsoft/cascadia-code/releases" target="_blank" rel="noopener noreferrer">release page</a> and install it like regular fonts.</li> </ul> </li> <li> <p>Open the Windows Terminal and choose settings. Then, the <code class="language-plaintext highlighter-rouge">settings.json</code> file will pop up in your default IDE. I recommend you use VSCode as it gives you the autocompletion of settings parameters. In the <code class="language-plaintext highlighter-rouge">list</code> section, you will see each terminal configuration. We will use the Linux Distro (Ubuntu-20.04 for me) to apply the specific settings. You may add your custom parameters to the <code class="language-plaintext highlighter-rouge">defaults</code> section to apply to all existing terminals.</p> <ul> <li> <p>Grab your favorite Windows Terminal theme for <a href="https://atomcorp.github.io/themes/" target="_blank" rel="noopener noreferrer">here</a>, and it will copy the json configuration to your clipboard. Then paste it into the <code class="language-plaintext highlighter-rouge">schemes</code> of the configuration file. Finally add <code class="language-plaintext highlighter-rouge">"colorScheme": "&lt;YourThemeName&gt;"</code> to the terminal profile section.</p> </li> <li> <p>You can also add your favorite background image to the terminal’s background. Copy your image (either jpg, png, or gif) to this path <code class="language-plaintext highlighter-rouge">%LOCALAPPDATA%\Packages\Microsoft.WindowsTerminal_8wekyb3d8bbwe\LocalState</code>, then add the below settings to the configuration. You can find more info about these parameters <a href="https://docs.microsoft.com/en-us/windows/terminal/customize-settings/profile-settings#background-image-settings" target="_blank" rel="noopener noreferrer">here</a>.</p> </li> </ul> <pre><code class="language-JSON">     "backgroundImage" : "ms-appdata:///local/&lt;YourImageName&gt;",
     "backgroundImageOpacity" : 0.6,
     "backgroundImageStretchMode" : "fill"
</code></pre> <ul> <li>Your final configuration file would look something like this:</li> </ul> <pre><code class="language-JSON"> {
     "$schema": "https://aka.ms/terminal-profiles-schema",
     "defaultProfile": "{SomeGUID}",
     "copyOnSelect": false,
     "copyFormatting": false,

     "profiles":
     {
         "defaults":
         {
             "cursorShape": "vintage",
             "fontFace": "Cascadia Code PL"
         },
         "list":
         [
             {
                 "guid": "{SomeGUID}",
                 "hidden": false,
                 "name": "Ubuntu-20.04",
                 "source": "Windows.Terminal.Wsl",
                 "backgroundImage" : "ms-appdata:///local/background.jpg",
                 "backgroundImageOpacity" : 0.6,
                 "backgroundImageStretchMode" : "fill",
                 "colorScheme": "3024 Day"
             },
             //...
         ]
     },

     "schemes": [
         {
         "name": "3024 Day",
         "black": "#090300",
         //...
         }
     ],
     //...
 }
</code></pre> </li> <li> <p>Open your Linux distro IDE in Windows Terminal and install Docker as usual. You can follow the <a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener noreferrer">official docs</a>. During the installation, it may ask about installing GRUB, but you can skip it. You may see an error after installing Docker, and this is because Docker can’t run on a separate daemon so open your Docker Desktop settings, navigate to <code class="language-plaintext highlighter-rouge">Resources &gt; WSL INTEGRATION</code>, and enable the integration for your Linux distro.</p> </li> <li> <p>Install Zsh and Oh my Zsh.</p> <ul> <li><code class="language-plaintext highlighter-rouge">sudo apt update &amp;&amp; sudo apt install -y git fonts-powerline zsh</code></li> <li><code class="language-plaintext highlighter-rouge">sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"</code></li> <li>After installation, the wizard would ask you to set zsh as your default shell, so accept it.</li> <li>Edit the <code class="language-plaintext highlighter-rouge">~/.zshrc</code> file and set the proper theme for your zsh.</li> </ul> <div class="language-conf highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>     <span class="n">ZSH_THEME</span>=<span class="s2">"agnoster"</span>
</code></pre></div> </div> </li> <li>Restart the terminal, and you should see the new shell applied. Remember that the Docker on your Linux distro will use your Docker host daemon, so the data like images, containers, and volumes would save on your host.</li> </ol> <h2 id="contribution">Contribution</h2> <p>The project source code can be found in my <a href="https://github.com/masoudr/docker-windows-terminal" target="_blank" rel="noopener noreferrer">GitHub repository</a>.</p> </article> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Masoud Rahimi. Powered by <a style="font-weight:bold" href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <img class="emoji" title=":heart:" alt=":heart:" src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" height="20" width="20"> | Last updated: October 13, 2024. </div> </footer> </div> </div> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script async src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script> <script async src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script> <script async src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/particles.js"></script> <script src="/assets/js/theme.js"></script> </body> </html>