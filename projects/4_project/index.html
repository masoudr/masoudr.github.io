<!DOCTYPE html> <html lang="en"> <head> <meta name="google-site-verification" content="XGpY7kLsPO8XuKvrJZpPOei3vNAs2zJByAuqqBe6JxE"/> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>VSCode C++ Development | Masoud Rahimi</title> <meta name="author" content="Masoud Rahimi"/> <meta name="description" content="Setup Visual Studio Code for C++ development"/> <meta name="keywords" content="masoud rahimi, phd student, electrical engineering, embedded system engineer, concordia"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="shortcut icon" href="/assets/img/favicon.png"/> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://masoudrahimi.com/projects/4_project/"> <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> <script src="/assets/js/jquery.smoothState.js"></script> <script src="/assets/js/page_transition.js"></script> <script src="https://www.google.com/recaptcha/api.js"></script> </head> <body class="fixed-top-nav "> <div class="m-scene" id="main"> <div class="scene_element scene_element--fadein"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="https://masoudrahimi.com/"><span class="font-weight-bold">Masoud</span> Rahimi</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">Home</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Vitae</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching</a> </li> <li class="nav-item "> <a class="nav-link" href="/contact/">Contact</a> </li> </ul> </div> </div> </nav> </header> <div id="particles-js"></div> <div class="container mt-5"> <div id="padding"> <div class="post"> <header class="post-header"> <h1 class="post-title">VSCode C++ Development</h1> <p class="post-description">Setup Visual Studio Code for C++ development</p> </header> <article> <p>Using VSCode as your primary development IDE is quite interesting as it offers many features with the support of most programming languages. To develop C/C++ applications, you need to install a separate compiler; you can use <a href="http://www.mingw.org/" target="_blank" rel="noopener noreferrer">MinGW</a> or Microsoft Visual C++ compiler. In this tutorial, I’m giving you a brief tutorial about using VSCode to develop C/C++ applications with MSVC on Windows.</p> <p>There is an official <a href="https://code.visualstudio.com/docs/cpp/config-msvc" target="_blank" rel="noopener noreferrer">tutorial</a> about setting the environment, but it may be unclear in some parts (e.g., it forces you to use Development Command Prompt each time you open up VSCode). So I’m adding an alternative for those parts and creating a custom build configuration.</p> <h2 id="prerequisites">Prerequisites</h2> <ol> <li>Download and install VSCode from the official <a href="https://code.visualstudio.com/download" target="_blank" rel="noopener noreferrer">website</a>.</li> <li>Install the Microsoft Visual C++ toolset. You can use Visual Studio Installer and select <code class="language-plaintext highlighter-rouge">C++ build tools</code>. To verify the installation, open up Developer Command Prompt from the Start menu and check the <code class="language-plaintext highlighter-rouge">cl.exe</code> command.</li> <li>Install C/C++ extension for VSCode from <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools" target="_blank" rel="noopener noreferrer">here</a>.</li> </ol> <h2 id="setup-instructions">Setup instructions</h2> <ol> <li> <p>Create a directory for your project and put the required files in it. Then open the directory with VSCode. You can either use the command <code class="language-plaintext highlighter-rouge">code .</code> in the terminal or right-click inside the folder and choose <code class="language-plaintext highlighter-rouge">open with Code</code>.</p> </li> <li> <p>Create a simple hello world C++ file called <code class="language-plaintext highlighter-rouge">main.cpp</code> at the project’s root.</p> <div class="language-cpp highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> <span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span> <span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

 <span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
 <span class="p">{</span>
     <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"It Works!"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
     <span class="n">cin</span><span class="p">.</span><span class="n">get</span><span class="p">();</span>
 <span class="p">}</span>
</code></pre></div> </div> </li> <li> <p>Press F1 or <code class="language-plaintext highlighter-rouge">Ctrl+Shift+P</code> to open Command Palette and choose <code class="language-plaintext highlighter-rouge">C/C++ Edit Configurations UI</code>. It will open up the configuration windows. Choose the <code class="language-plaintext highlighter-rouge">Win32</code> for the configuration name and set a proper compiler path. It should automatically set the path for <code class="language-plaintext highlighter-rouge">cl.exe</code> e.g. <code class="language-plaintext highlighter-rouge">C:/Program Files (x86)/Microsoft Visual Studio/2019/Enterprise/VC/Tools/MSVC/14.21.27702/bin/Hostx64/x64/cl.exe</code>. You can set other options like <code class="language-plaintext highlighter-rouge">IntelliSense mode</code>, <code class="language-plaintext highlighter-rouge">Include path</code> and etc.</p> </li> <li> <p>Create an empty <code class="language-plaintext highlighter-rouge">settings.json</code> file in <code class="language-plaintext highlighter-rouge">.vscode</code> directory and add the two parameters for <code class="language-plaintext highlighter-rouge">cl.exe</code> path, and build the directory path (if the file already exists, just add these two values). In this configuration, we are creating a build directory called <code class="language-plaintext highlighter-rouge">build</code> to store the binaries. Also, we create a custom build command called <code class="language-plaintext highlighter-rouge">buildCommand</code> to execute <code class="language-plaintext highlighter-rouge">cl.exe</code> from the VS Command Prompt.</p> <div class="language-json highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"buildDir"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${workspaceRoot}</span><span class="se">\\</span><span class="s2">build"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"buildCommand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C:</span><span class="se">\\</span><span class="s2">Program^ Files^ ^(x86^)</span><span class="se">\\</span><span class="s2">Microsoft^ Visual^ Studio</span><span class="se">\\</span><span class="s2">2019</span><span class="se">\\</span><span class="s2">Enterprise</span><span class="se">\\</span><span class="s2">Common7</span><span class="se">\\</span><span class="s2">Tools</span><span class="se">\\</span><span class="s2">VsDevCmd.bat &amp;&amp; cl"</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> <p>We would be able to use these variables in other config files with <code class="language-plaintext highlighter-rouge">${config:&lt;ConfigName&gt;}</code> syntax.</p> </li> <li> <p>Next, we will create a <code class="language-plaintext highlighter-rouge">tasks.json</code> file and create a task for our build. Create the <code class="language-plaintext highlighter-rouge">tasks.json</code> inside <code class="language-plaintext highlighter-rouge">.vscode</code> directory and fill it like below:</p> <div class="language-json highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.0.0"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
             </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shell"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Set dependencies for build"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"if not exist ${config:buildDir} mkdir ${config:buildDir}"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
             </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shell"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C/C++: cl.exe build active file"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${config:buildCommand}"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                 </span><span class="s2">"/Zi"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"/EHsc"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"/Fe:"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"${config:buildDir}</span><span class="se">\\</span><span class="s2">${fileBasenameNoExtension}.exe"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"/Fo${config:buildDir}</span><span class="se">\\</span><span class="s2">"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"/Fd${config:buildDir}</span><span class="se">\\</span><span class="s2">"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"${file}"</span><span class="w">
             </span><span class="p">],</span><span class="w">
             </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                 </span><span class="nl">"cwd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${workspaceFolder}"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="nl">"problemMatcher"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                 </span><span class="s2">"$msCompile"</span><span class="w">
             </span><span class="p">],</span><span class="w">
             </span><span class="nl">"group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                 </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"build"</span><span class="p">,</span><span class="w">
                 </span><span class="nl">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="nl">"dependsOn"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                 </span><span class="s2">"Set dependencies for build"</span><span class="w">
             </span><span class="p">]</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> <p>The arguments for <code class="language-plaintext highlighter-rouge">cl.exe</code> are pretty standard, but if you want to add more options, you can add them in the <code class="language-plaintext highlighter-rouge">args</code> section.</p> </li> <li> <p>To verify the installation, run the build task with <code class="language-plaintext highlighter-rouge">Ctrl+Shift+B</code>. This command will create the <code class="language-plaintext highlighter-rouge">build</code> directory and put the output.</p> </li> <li> <p>To debug your application, create a <code class="language-plaintext highlighter-rouge">launch.json</code> file in <code class="language-plaintext highlighter-rouge">.vscode</code> a directory like the below:</p> <div class="language-json highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="err">//</span><span class="w"> </span><span class="err">Use</span><span class="w"> </span><span class="err">IntelliSense</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">learn</span><span class="w"> </span><span class="err">about</span><span class="w"> </span><span class="err">possible</span><span class="w"> </span><span class="err">attributes.</span><span class="w">
     </span><span class="err">//</span><span class="w"> </span><span class="err">Hover</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">view</span><span class="w"> </span><span class="err">descriptions</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">existing</span><span class="w"> </span><span class="err">attributes.</span><span class="w">
     </span><span class="err">//</span><span class="w"> </span><span class="err">For</span><span class="w"> </span><span class="err">more</span><span class="w"> </span><span class="err">information</span><span class="p">,</span><span class="w"> </span><span class="err">visit:</span><span class="w"> </span><span class="err">https://go.microsoft.com/fwlink/?linkid=</span><span class="mi">830387</span><span class="w">
     </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2.0"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
             </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cl.exe - Build and debug active file"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cppvsdbg"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="s2">"launch"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"program"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${config:buildDir}</span><span class="se">\\</span><span class="s2">${fileBasenameNoExtension}.exe"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
             </span><span class="nl">"stopAtEntry"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
             </span><span class="nl">"cwd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${env:buildDir}"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
             </span><span class="nl">"externalConsole"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
             </span><span class="nl">"preLaunchTask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C/C++: cl.exe build active file"</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> <p>The above file is a default configuration, and I already change the <code class="language-plaintext highlighter-rouge">program</code> path. I also add a <code class="language-plaintext highlighter-rouge">preLaunchTask</code> to rebuild the project before launching the debug session.</p> </li> <li> <p>After creating the debug configuration, you can put your breakpoints and launch the debug session with F5.</p> </li> </ol> <h2 id="resources">Resources</h2> <p>All resource files can be accessed from my GitHub <a href="https://github.com/masoudr/vscode-cpp-development" target="_blank" rel="noopener noreferrer">repository</a>.</p> </article> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Masoud Rahimi. Powered by <a style="font-weight:bold" href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <img class="emoji" title=":heart:" alt=":heart:" src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" height="20" width="20"> | Last updated: October 13, 2024. </div> </footer> </div> </div> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script async src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script> <script async src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script> <script async src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/particles.js"></script> <script src="/assets/js/theme.js"></script> </body> </html>